<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anki code</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="_styles_for_syntax_highlighting.css">
</head>
<body style="overflow: hidden"> <!-- Needed to avoid scrollbars on absolute elements-->
    <main class="l-row-flex l-viewport">
    <section class="tab_group u-over_sibling" onclick="set_active_tab(event, this)">
        <section class="tab">
            <span class="tab__label">This is the label</span>
            <div class="tab__body">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque modi voluptas voluptatem nobis ullam magni labore magnam sint nostrum. Asperiores facilis harum magnam beatae alias perspiciatis adipisci mollitia exercitationem quae!</p>
            </div>
        </section>
        
		<div class="tab"><span class="tab__label">Test</span><section class="highlight highlight--linenos tab__body" style="width: 100%"><span class="highlight__language">js</span><div class="highlight__code highlight--linenos tab__body"><pre><span></span><code><span class="highlight__line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">hello</span><span class="w"> </span><span class="nx">world</span><span class="o">!&amp;</span><span class="nx">quot</span><span class="p">;)</span><span class="w"></span><br></span></code></pre></div>
				                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nisi quo aliquid culpa reprehenderit nulla provident sequi sint officiis vero. Corporis fugit ullam voluptatem ipsam deleniti exercitationem quia expedita sit optio.</p></section>

			</section>
</div>
    <section class="tab_group" onclick="set_active_tab(event, this)">
        <section class="tab">
            <span class="tab__label">prompt</span>
            <div class="tab__body">
                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nisi quo aliquid culpa reprehenderit nulla provident sequi sint officiis vero. Corporis fugit ullam voluptatem ipsam deleniti exercitationem quia expedita sit optio.</p>
            </div>
        </section>
        <section class="tab">
            <span class="tab__label">image</span>
            <div class="tab__body">
                <img src="./test_images/ghosts.jpg" alt="ghosts">            
            </div>
        </section>
        <section class="tab">
            <span class="tab__label">image</span>
            <div class="tab__body">
                <img src="./test_images/test_cat.jpg" alt="ghosts">            
            </div>
        </section>
        <section class="tab">
            <span class="tab__label">image</span>
            <div class="tab__body">
                <img src="./test_images/test_frog.jpg" alt="ghosts">            
            </div>
        </section>
    </section>
    </main>

<script>
// window.onload = function() {
//     let first_code = document.getElementsByClassName("highlight")[0]
//     first_code.children[0].classList.add("tab__label--ischecked")
//     first_code.children[1].classList.add("tab--isvisible")
//     let first_tab = document.getElementsByClassName("extra_tabs__tab")[0]
//     first_tab.children[0].classList.add("tab__label--ischecked")
// }

// function toggle_code_visibility(event, container) {
//     if (event.target.classList.contains("highlight__language")) {
//         let target_code = event.target.nextElementSibling
//         target_code.classList.add("tab--isvisible")
//         event.target.classList.add("tab__label--ischecked")
//         for (let highlight of container.children) {
//             try {
//                 let highlight__language = highlight.firstElementChild
//                 if (highlight__language != event.target) {
//                     highlight__language.classList.remove("tab__label--ischecked")
//                     highlight__language.nextElementSibling.classList.remove("tab--isvisible")
//                 }
//             }
//             catch(err) {}
//         }
//     }
// }
// let labels = document.getElementsByClassName("highlight__language")

// for (let label of labels) {
//     label.classList.add("tab__label")
// }
function set_active_tab(event, container) {
    let target = event.target
    if (target.classList.contains("tab__label")) {
        for (let tab of container.children) {
            if ([...tab.children].includes(target)) {
                tab.classList.add("tab--isactive")
            } else {
                tab.classList.remove("tab--isactive")
            }
        }
    }
}
</script>

</body>
</html>

<!-- 
    TODO: settle on the tabs structure:
        section.tab_group>section.tab>span.tab_label+div/something?
    TODO: make the system of grouping the tabs and the tab labels indipendent from the code tabs (add them on load?)
    Continuation: WHILE MAKING THE CODE ABLE TO BE ON ITS OWN
    TODO: figure out a way to use colors that isn't so annoying to use (add extra fields to themes?)
    TODO: create full screen button or on hover on code?
    TODO: switch tab when input inside of them is selected (for accessibility and fast cards/ or tab labels are active?)
    TODO: figure out viewports (flex column on devices?)
    TODO design: add window label on top of the screen with the name of the deck; tags instead of the path?
    TODO design: add icons before tab labels

 -->
